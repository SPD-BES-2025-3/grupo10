@startuml C4_Container
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

title Diagrama de Containers do Sistema de Manutenção

Person(colaborador, "Colaborador", "Usuário do sistema.")

System_Boundary(sistema_manutencao, "Sistema de Gestão de Manutenção") {
    Container(frontend, "Aplicação Frontend", "Next.js, React, TypeScript", "Interface do usuário que roda no navegador.")
    Container(backend, "API Backend", "Node.js, Express, TypeScript", "Processa a lógica de negócio e expõe uma API RESTful.")
    ContainerDb(database, "Banco de Dados", "MongoDB", "Armazena os dados da aplicação (maquinários, responsáveis, manutenções, etc.).")
    Container(redis, "Barramento de Eventos", "Redis", "Fila de mensagens para publicação de eventos no padrão Pub/Sub.")
}

System_Ext(sistemas_externos, "Sistemas Externos", "Consumidores dos eventos.")

Rel(colaborador, frontend, "Acessa via navegador", "HTTPS")
Rel(frontend, backend, "Faz requisições à API", "HTTPS/JSON")
Rel(backend, database, "Lê e escreve dados", "Mongoose")
Rel(backend, redis, "Publica eventos de CRUD", "TCP")
Rel(redis, sistemas_externos, "Consome eventos", "TCP")

@enduml
